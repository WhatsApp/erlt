-file("caret_mod01.erlt", 1).

-module(caret_mod01).

-export([f/1,g/1,h/1,i/3,j/2,k/2,m/2]).

f(X) ->
    Y = 42,
    case X of
        Y ->
            {that, Y};
        Z ->
            {this, Z}
    end.

g(X) ->
    Y = 42,
    case X of
        {foo, [Y | Zs]} ->
            {that, Y, Zs};
        {foo, [Z | Zs]} ->
            {this, Z, Zs};
        Z ->
            {other, Z}
    end.

h(X) ->
    Y = 42,
    {ok, Y} = X,
    true.

i(Elem, List1, List2) ->
    Foo = 42,
    begin
        pin_o0 = Elem,
        pin_o1 = Foo,
        [ 
         found ||
             pin_i0 <- List1,
             pin_i0 =:= pin_o0,
             {foo, pin_i1} <- List2,
             pin_i1 =:= pin_o1
        ]
    end.

j(Elem, List) ->
    Foo = 42,
    lists:filter(begin
                     pin_o2 = Elem,
                     pin_o3 = Foo,
                     fun(pin_i2) when pin_i2 =:= pin_o2 ->
                            true;
                        ({foo, pin_i3}) when pin_i3 =:= pin_o3 ->
                            true;
                        (_) ->
                            false
                     end
                 end,
                 List).

k(X, Y) ->
    case X of
        {a, X} ->
            {b, X};
        {a, Y} when X < Y; Y > X ->
            {b, Y};
        {b, Y} ->
            Z = {X, Y},
            case Y of
                {c, X} ->
                    {d, X};
                {c, Y} when X < Y; Y > X ->
                    {d, Y};
                {d, X} ->
                    {d, Y};
                {d, Z} ->
                    {z, Z}
            end
    end.

m(X, Y) ->
    begin
        pin_o4 = X,
        pin_o5 = Y,
        fun({foo, pin_i4, Z}) when pin_i4 =:= pin_o4 ->
               Z;
           ({bar, pin_i4, Z}) when pin_i4 =:= pin_o4 ->
               case X of
                   {ok, X} ->
                       {ok, Z};
                   error ->
                       error
               end;
           ({baz, pin_i5, Z}) when pin_i5 =:= pin_o5 ->
               Z
        end
    end.



