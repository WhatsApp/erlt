%%==============================================================================
%% The 'els_db_table' behaviour
%%==============================================================================

-module(els_db_table).

%%==============================================================================
%% Callbacks
%%==============================================================================

-callback name() -> atom().
-callback opts() -> proplists:proplist().

%%==============================================================================
%% Exports
%%==============================================================================

-export([ ensure/1 ]).

%%==============================================================================
%% API
%%==============================================================================

-spec ensure(module()) -> ok.
ensure(Table) ->
  case mnesia:create_table(Table:name(), Table:opts()) of
    {atomic, ok} ->
      ok;
    {aborted, {already_exists, _}} ->
      ok
  end.
